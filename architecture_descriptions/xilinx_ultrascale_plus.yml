implementations:
  - interface: { name: LUT, parameters: { num_inputs: 2 } }
    modules:
      - module_name: LUT2
        filepath: ../verilator_xilinx/LUT2.v
        parameters: [{ name: INIT, value: INIT }]
        ports:
          [
            { name: I0, direction: input, bitwidth: 1, value: I0 },
            { name: I1, direction: input, bitwidth: 1, value: I1 },
            { name: O, direction: output, bitwidth: 1, value: O },
          ]
    internal_data: { INIT: 4 }
    outputs: { O: O }
  - interface: { name: LUT, parameters: { num_inputs: 6 } }
    modules:
      - module_name: LUT6
        filepath: ../verilator_xilinx/LUT6.v
        racket_import_filepath: ../modules_for_importing/xilinx_ultrascale_plus/LUT6.v
        parameters: [{ name: INIT, value: INIT }]
        ports:
          [
            { name: I0, direction: input, bitwidth: 1, value: I0 },
            { name: I1, direction: input, bitwidth: 1, value: I1 },
            { name: I2, direction: input, bitwidth: 1, value: I2 },
            { name: I3, direction: input, bitwidth: 1, value: I3 },
            { name: I4, direction: input, bitwidth: 1, value: I4 },
            { name: I5, direction: input, bitwidth: 1, value: I5 },
            { name: O, direction: output, bitwidth: 1, value: O },
          ]
    internal_data: { INIT: 64 }
    outputs: { O: O }
  - interface: { name: carry, parameters: { width: 8 } }
    modules:
      - module_name: CARRY8
        filepath: ../verilator_xilinx/CARRY8.v
        racket_import_filepath: ../modules_for_importing/xilinx_ultrascale_plus/CARRY8.v
        ports:
          [
            { name: CI, direction: input, bitwidth: 1, value: CI },
            { name: DI, direction: input, bitwidth: 8, value: DI },
            { name: S, direction: input, bitwidth: 8, value: S },
            { name: CO, direction: output, bitwidth: 8, value: CO },
            { name: O, direction: output, bitwidth: 8, value: O },
          ]
    outputs: { O: O, CO: (bit 7 CO) }
  - interface: { name: DSP, parameters: { width: 16 } }
    internal_data: { OPMODE: 9 }
    constraints: { OPMODE: (lambda (v) (assert (bveq v (bv 9 4)))) }
    modules:
      - module_name: DSP48E2
        filepath: ../verilator_unisims/DSP48E2.v
        racket_import_filepath: ../modules_for_importing/xilinx_ultrascale_plus/DSP48E2.v
        ports:
          [
            { name: A, direction: input, bitwidth: 16, value: (zero-extend A (bitvector 30)) },
            { name: ACIN, direction: input, bitwidth: 30, value: (bv 0 30) },
            { name: ALUMODE, direction: input, bitwidth: 4, value: (bv 0 4) },
            { name: B, direction: input, bitwidth: 16, value: (zero-extend B (bitvector 18)) },
            { name: BCIN, direction: input, bitwidth: 18, value: (bv 0 18) },
            { name: C, direction: input, bitwidth: 48, value: (bv 0 48) },
            { name: CARRYCASCIN, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: CARRYIN, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: CARRYINSEL, direction : input, bitwidth: 3, value: (bv 0 3) },

            # Here, we set clock enable inputs to 1.
            { name: CEA1, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEA2, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEAD, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEALUMODE, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEB1, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEB2, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CECARRYIN, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CECTRL, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CED, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEINMODE, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEM, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CEP, direction: input, bitwidth: 1, value: (bv 1 1) },

            { name: CLK, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: D, direction: input, bitwidth: 27, value: (bv 0 27) },
            { name: INMODE, direction: input, bitwidth: 5, value: (bv 0 5) },
            { name: MULTSIGNIN, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: OPMODE, direction: input, bitwidth: 9, value: OPMODE },
            { name: PCIN, direction: input, bitwidth: 48, value: (bv 0 48) },
            { name: RSTA, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTALLCARRYIN, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTALUMODE, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTB, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTC, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTCTRL, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTD, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTINMODE, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTM, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RSTP, direction: input, bitwidth: 1, value: (bv 0 1) },
          ]
        parameters: [
          { name: ACASCREG, value: (bv 0 32) },
          { name: ADREG, value: (bv 0 32) },
          { name: ALUMODEREG, value: (bv 0 32) },
          { name: AMULTSEL, value: (bv 0 5) },
          { name: AREG, value: (bv 0 32) },
          { name: AUTORESET_PATDET, value: (bv 3 5) },
          { name: AUTORESET_PRIORITY, value: (bv 6 5) },
          { name: A_INPUT, value: (bv 7 5) },
          { name: BCASCREG, value: (bv 0 32) },
          { name: BMULTSEL, value: (bv 1 5) },
          { name: BREG, value: (bv 0 32) },
          { name: B_INPUT, value: (bv 7 5) },
          { name: CARRYINREG, value: (bv 0 32) },
          { name: CARRYINSELREG, value: (bv 0 32) },
          { name: CREG, value: (bv 0 32) },
          { name: DREG, value: (bv 0 32) },
          { name: INMODEREG, value: (bv 0 32) },
          { name: IS_ALUMODE_INVERTED, value: (bv 0 4) },
          { name: IS_CARRYIN_INVERTED, value: (bv 0 1) },
          { name: IS_CLK_INVERTED, value: (bv 0 1) },
          { name: IS_INMODE_INVERTED, value: (bv 0 5) },
          { name: IS_OPMODE_INVERTED, value: (bv 0 9) },
          { name: IS_RSTALLCARRYIN_INVERTED, value: (bv 0 1) },
          { name: IS_RSTALUMODE_INVERTED, value: (bv 0 1) },
          { name: IS_RSTA_INVERTED, value: (bv 0 1) },
          { name: IS_RSTB_INVERTED, value: (bv 0 1) },
          { name: IS_RSTCTRL_INVERTED, value: (bv 0 1) },
          { name: IS_RSTC_INVERTED, value: (bv 0 1) },
          { name: IS_RSTD_INVERTED, value: (bv 0 1) },
          { name: IS_RSTINMODE_INVERTED, value: (bv 0 1) },
          { name: IS_RSTM_INVERTED, value: (bv 0 1) },
          { name: IS_RSTP_INVERTED, value: (bv 0 1) },
          { name: MASK, value: (bv 0 48) },
          { name: MREG, value: (bv 0 32) },
          { name: OPMODEREG, value: (bv 0 32) },
          { name: PATTERN, value: (bv 0 48) },
          { name: PREADDINSEL, value: (bv 0 5) },
          { name: PREG, value: (bv 0 32) },
          { name: RND, value: (bv 0 48) },
          { name: SEL_MASK, value: (bv 8 5) },
          { name: SEL_PATTERN, value: (bv 9 5) },
          { name: USE_MULT, value: (bv 10 5) },
          { name: USE_PATTERN_DETECT, value: (bv 11 5) },
          { name: USE_SIMD, value: (bv 12 5) },
          { name: USE_WIDEXOR, value: (bv 13 5) },
          { name: XORSIMD, value: (bv 14 5) },
        ]
    outputs: { P : (extract 15 0 P) }