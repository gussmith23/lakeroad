implementations:
  - interface: { name: LUT, parameters: { num_inputs: 4 } }
    internal_data: { init: 16 }
    modules:
      - module_name: LUT4
        filepath: ../f4pga-arch-defs/ecp5/primitives/slice/LUT4.v
        racket_import_filepath: ../modules_for_importing/lattice_ecp5/LUT4.v
        ports:
          [
            { name: A, direction: input, bitwidth: 1, value: I0 },
            { name: B, direction: input, bitwidth: 1, value: I1 },
            { name: C, direction: input, bitwidth: 1, value: I2 },
            { name: D, direction: input, bitwidth: 1, value: I3 },
            { name: Z, direction: output, bitwidth: 1, value: O },
          ]
        parameters: [{ name: init, value: init }]
    outputs: { O: Z }
 # We don't actually have semantics for this right now!
 # - interface: { name: MUX, parameters: { num_inputs: 2 } }
 #   modules:
 #     # TODO(@gussmith23): This MUX is not actually intended to be general-purpose. Replace this with a LUT2 implementation.
 #     - module_name: L6MUX21
 #       filepath: ../f4pga-arch-defs/ecp5/primitives/slice/L6MUX21.v
 #       ports:
 #         [
 #           { name: D0, direction: input, bitwidth: 1, value: I0 },
 #           { name: D1, direction: input, bitwidth: 1, value: I1 },
 #           { name: SD, direction: input, bitwidth: 1, value: S },
 #           { name: Z, direction: output, bitwidth: 1, value: O },
 #         ]
 #   outputs: { O: Z }
  - interface: { name: carry, parameters: { width: 2 } }
    internal_data: { INIT0: 16, INIT1: 16 }
    modules:
      - module_name: CCU2C
        filepath: ../f4pga-arch-defs/ecp5/primitives/slice/CCU2C.v
        racket_import_filepath: ../modules_for_importing/lattice_ecp5/CCU2C.v
        ports: [
            { name: CIN, direction: input, bitwidth: 1, value: CI },
            { name: A0, direction: input, bitwidth: 1, value: (bit 0 DI) },
            { name: A1, direction: input, bitwidth: 1, value: (bit 1 DI) },
            { name: B0, direction: input, bitwidth: 1, value: (bit 0 S) },
            { name: B1, direction: input, bitwidth: 1, value: (bit 1 S) },
            # Set the other inputs to 1 to enable the carry chain. NOTE: It's
            # very important that we specify ALL inputs. This is due to the fact
            # that any unspecified inputs will currently be made symbolic, which
            # isn't good. See #147.
            { name: C0, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: C1, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: D0, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: D1, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: S0, direction: output, bitwidth: 1, value: unused },
            { name: S1, direction: output, bitwidth: 1, value: unused },
            { name: COUT, direction: output, bitwidth: 1, value: unused },
          ]
        parameters: [
            # NOTE: It's very important that we specify ALL parameters. This is
            # due to the fact that any unspecified parameters will currently be
            # made symbolic, which isn't good. See #147.
            { name: INIT0, value: INIT0 },
            { name: INIT1, value: INIT1 },
            { name: INJECT1_0, value: (bv 0 1) },
            { name: INJECT1_1, value: (bv 0 1) },
          ]
    outputs: { O: (concat S1 S0), CO: COUT }
  - interface: { name: DSP, parameters: { width: 16 } }
    internal_data: { }
    modules:
      - module_name: MULT18X18D
        filepath: ../lakeroad-private/lattice_ecp5/MULT18X18D.v
        racket_import_filepath: ../lakeroad-private/lattice_ecp5/MULT18X18D.v
        ports: [
            # TODO(@ninehusky): we need to cut down search space by specifying
            # all ports and parameters, will need this for more complicated
            # synthesis
            { name: A0, direction: input, bitwidth: 1, value: (extract 0 0 A) },
            { name: A1, direction: input, bitwidth: 1, value: (extract 1 1 A) },
            { name: A2, direction: input, bitwidth: 1, value: (extract 2 2 A) },
            { name: A3, direction: input, bitwidth: 1, value: (extract 3 3 A) },
            { name: A4, direction: input, bitwidth: 1, value: (extract 4 4 A) },
            { name: A5, direction: input, bitwidth: 1, value: (extract 5 5 A) },
            { name: A6, direction: input, bitwidth: 1, value: (extract 6 6 A) },
            { name: A7, direction: input, bitwidth: 1, value: (extract 7 7 A) },
            { name: A8, direction: input, bitwidth: 1, value: (extract 8 8 A) },
            { name: A9, direction: input, bitwidth: 1, value: (extract 9 9 A) },
            { name: A10, direction: input, bitwidth: 1, value: (extract 10 10 A) },
            { name: A11, direction: input, bitwidth: 1, value: (extract 11 11 A) },
            { name: A12, direction: input, bitwidth: 1, value: (extract 12 12 A) },
            { name: A13, direction: input, bitwidth: 1, value: (extract 13 13 A) },
            { name: A14, direction: input, bitwidth: 1, value: (extract 14 14 A) },
            { name: A15, direction: input, bitwidth: 1, value: (extract 15 15 A) },
            { name: A16, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: A17, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: B0, direction: input, bitwidth: 1, value: (extract 0 0 B) },
            { name: B1, direction: input, bitwidth: 1, value: (extract 1 1 B) },
            { name: B2, direction: input, bitwidth: 1, value: (extract 2 2 B) },
            { name: B3, direction: input, bitwidth: 1, value: (extract 3 3 B) },
            { name: B4, direction: input, bitwidth: 1, value: (extract 4 4 B) },
            { name: B5, direction: input, bitwidth: 1, value: (extract 5 5 B) },
            { name: B6, direction: input, bitwidth: 1, value: (extract 6 6 B) },
            { name: B7, direction: input, bitwidth: 1, value: (extract 7 7 B) },
            { name: B8, direction: input, bitwidth: 1, value: (extract 8 8 B) },
            { name: B9, direction: input, bitwidth: 1, value: (extract 9 9 B) },
            { name: B10, direction: input, bitwidth: 1, value: (extract 10 10 B) },
            { name: B11, direction: input, bitwidth: 1, value: (extract 11 11 B) },
            { name: B12, direction: input, bitwidth: 1, value: (extract 12 12 B) },
            { name: B13, direction: input, bitwidth: 1, value: (extract 13 13 B) },
            { name: B14, direction: input, bitwidth: 1, value: (extract 14 14 B) },
            { name: B15, direction: input, bitwidth: 1, value: (extract 15 15 B) },
            { name: B16, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: B17, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: C0, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C1, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C2, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C3, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C4, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C5, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C6, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C7, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C8, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C9, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C10, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C11, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C12, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C13, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C14, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C15, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C16, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: C17, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: SIGNEDA, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SIGNEDB, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SOURCEA, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SOURCEB, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: CE0, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CE1, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CE2, direction: input, bitwidth: 1, value: (bv 1 1) },
            { name: CE3, direction: input, bitwidth: 1, value: (bv 1 1) },

            { name: CLK0, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: CLK1, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: CLK2, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: CLK3, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: RST0, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RST1, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RST2, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: RST3, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: SRIA0, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA1, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA2, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA3, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA4, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA5, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA6, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA7, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA8, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA9, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA10, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA11, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA12, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA13, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA14, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA15, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA16, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIA17, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: SRIB0, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB1, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB2, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB3, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB4, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB5, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB6, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB7, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB8, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB9, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB10, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB11, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB12, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB13, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB14, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB15, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB16, direction: input, bitwidth: 1, value: (bv 0 1) },
            { name: SRIB17, direction: input, bitwidth: 1, value: (bv 0 1) },

            { name: SROA0, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA1, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA2, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA3, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA4, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA5, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA6, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA7, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA8, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA9, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA10, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA11, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA12, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA13, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA14, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA15, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA16, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROA17, direction: output, bitwidth: 1, value: (bv 0 1) },

            { name: SROB0, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB1, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB2, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB3, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB4, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB5, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB6, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB7, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB8, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB9, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB10, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB11, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB12, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB13, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB14, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB15, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB16, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: SROB17, direction: output, bitwidth: 1, value: (bv 0 1) },

            { name: ROA0, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA1, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA2, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA3, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA4, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA5, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA6, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA7, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA8, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA9, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA10, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA11, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA12, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA13, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA14, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA15, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA16, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROA17, direction: output, bitwidth: 1, value: (bv 0 1) },

            { name: ROB0, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB1, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB2, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB3, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB4, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB5, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB6, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB7, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB8, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB9, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB10, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB11, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB12, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB13, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB14, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB15, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB16, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROB17, direction: output, bitwidth: 1, value: (bv 0 1) },

            { name: ROC0, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC1, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC2, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC3, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC4, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC5, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC6, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC7, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC8, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC9, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC10, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC11, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC12, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC13, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC14, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC15, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC16, direction: output, bitwidth: 1, value: (bv 0 1) },
            { name: ROC17, direction: output, bitwidth: 1, value: (bv 0 1) },

            { name: P0, direction: output, bitwidth: 1, value: P0 },
            { name: P1, direction: output, bitwidth: 1, value: P1 },
            { name: P2, direction: output, bitwidth: 1, value: P2 },
            { name: P3, direction: output, bitwidth: 1, value: P3 },
            { name: P4, direction: output, bitwidth: 1, value: P4 },
            { name: P5, direction: output, bitwidth: 1, value: P5 },
            { name: P6, direction: output, bitwidth: 1, value: P6 },
            { name: P7, direction: output, bitwidth: 1, value: P7 },
            { name: P8, direction: output, bitwidth: 1, value: P8 },
            { name: P9, direction: output, bitwidth: 1, value: P9 },
            { name: P10, direction: output, bitwidth: 1, value: P10 },
            { name: P11, direction: output, bitwidth: 1, value: P11 },
            { name: P12, direction: output, bitwidth: 1, value: P12 },
            { name: P13, direction: output, bitwidth: 1, value: P13 },
            { name: P14, direction: output, bitwidth: 1, value: P14 },
            { name: P15, direction: output, bitwidth: 1, value: P15 },

            { name: P16, direction: output, bitwidth: 1, value: P16 },
            { name: P17, direction: output, bitwidth: 1, value: P17 },
            { name: P18, direction: output, bitwidth: 1, value: P18 },
            { name: P19, direction: output, bitwidth: 1, value: P19 },
            { name: P20, direction: output, bitwidth: 1, value: P20 },
            { name: P21, direction: output, bitwidth: 1, value: P21 },
            { name: P22, direction: output, bitwidth: 1, value: P22 },
            { name: P23, direction: output, bitwidth: 1, value: P23 },
            { name: P24, direction: output, bitwidth: 1, value: P24 },
            { name: P25, direction: output, bitwidth: 1, value: P25 },
            { name: P26, direction: output, bitwidth: 1, value: P26 },
            { name: P27, direction: output, bitwidth: 1, value: P27 },
            { name: P28, direction: output, bitwidth: 1, value: P28 },
            { name: P29, direction: output, bitwidth: 1, value: P29 },
            { name: P30, direction: output, bitwidth: 1, value: P30 },
            { name: P31, direction: output, bitwidth: 1, value: P31 },
            { name: P32, direction: output, bitwidth: 1, value: P32 },
            { name: P33, direction: output, bitwidth: 1, value: P33 },
            { name: P34, direction: output, bitwidth: 1, value: P34 },
            { name: P35, direction: output, bitwidth: 1, value: P35 },

            { name: SIGNEDP, direction: output, bitwidth: 1, value: (bv 0 1)}
         ]
        parameters: [

         ]
    outputs: { O : (concat P15 P14 P13 P12 P11 P10 P9 P8 P7 P6 P5 P4 P3 P2 P1 P0) }
